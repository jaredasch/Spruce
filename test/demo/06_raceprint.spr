let shared x : int = 0;


func sneakyOtherThread() -> string {
     for (i : int in range(3000)) {
        x = x + 1;
     }
     return "this can be <= 6000";
}


let s1: string = fork(sneakyOtherThread);
let s2: string = fork(sneakyOtherThread);

print("Thread names are " + s1 + " " + s2 + " and current value is " + x);

wait(s1);
wait(s2);

return x;
